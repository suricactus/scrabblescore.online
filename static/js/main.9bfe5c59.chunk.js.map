{"version":3,"sources":["logic/scoreLists.js","logic/util.js","components/GameSettings/GameSettings.js","logic/game.js","components/ScrabbleTile/ScrabbleTile.js","components/ScoreGrid/WordInTiles.js","components/ScoreGrid/ScoreGridCell.js","components/ScoreGrid/ScoreGrid.js","components/ScrabbleScoreKeeper/CallPlayerToAction.js","components/ScoreGrid/ScoreGridMobile.js","components/Tooltip/Tooltip.js","components/ScrabbleInputBox/ModifierTile.js","components/ScrabbleInputBox/WithModifierPopover.js","components/ScrabbleInputBox/ScrabbleInputBox.js","components/ScrabbleScoreKeeper/InGameControls.js","components/ScrabbleScoreKeeper/InGameOverControls.js","components/ScrabbleScoreKeeper/ScoreKeeper.js","components/ScrabbleScoreKeeper/ScrabbleScoreKeeper.js","serviceWorker.js","index.js"],"names":["scoreListsMap","en","language","scores","a","e","i","o","u","l","n","r","s","t","d","g","b","c","m","p","f","h","v","w","y","k","j","x","q","z","fr","ru","о","а","е","и","н","р","с","т","в","д","к","л","п","у","м","б","г","ь","я","ё","ы","й","з","ж","х","ц","ч","ш","э","ю","ф","щ","ъ","resizeArray","array","desiredLength","defaultValue","output","slice","length","push","scrabbleScore","word","modifiers","result","split","forEach","letter","score","toLowerCase","modifier","isStaticBuild","navigator","userAgent","logEvent","eventName","eventData","amplitude","getInstance","error","console","log","concat","GameSettings","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChangeOfName","bind","assertThisInitialized","handleChangeOfLanguage","handleGameStart","state","numberOfPlayers","playerNames","isTagDisabled","setState","target","value","_this$state","onGameStart","preventDefault","map","name","_this2","_this$state2","react_default","createElement","className","id","onChange","toConsumableArray","Array","_","key","type","placeholder","disabled","onClick","React","Component","Turn","words","bingo","game","isEmpty","getCurrentTurn","Game","players","currentPlayerIndex","leftOversTurnNumber","playersTurns","currentTurn","turn","_setTurn","getCurrentTurnNumber","newGame","empty","newPlayerIndex","isGameOver","getCurrentPlayer","history","playerIndex","reaperIndexes","total","Math","abs","reapers","totalLeftOverScore","reaperIndex","upToMove","totalScores","getTotalScore","indexesOf","max","apply","turnNumber","playerCopy","player","totalScore","totals","getRunningTotals","undefined","ScrabbleTile","modifierClass","role","onKeyDown","toUpperCase","WordInTiles","_this$props","letterTiles","components_ScrabbleTile_ScrabbleTile","ScoreGridCell","rows","ScoreGrid_WordInTiles","rowSpan","_this$props2","isPassed","renderPassed","renderNormal","ScoreGrid","align","ScoreGrid_ScoreGridCell","CallPlayerToAction","isMobile","playerName","mobile-ingame","mobile-gameover","desktop-ingame","desktop-gameover","callPlayerToAction","ScoreGridMobile","scope","colSpan","moveRowText","areLeftOversSubmitted","isComplete","turnIndex","isCurrentPlayersTurn","ScrabbleScoreKeeper_CallPlayerToAction","Tooltip","_ref","children","tooltip","hideArrow","objectWithoutProperties","react_popper_tooltip","assign","_ref2","arrowRef","tooltipRef","getArrowProps","getTooltipProps","placement","ref","data-placement","_ref3","getTriggerProps","triggerRef","ModifierTile","onTouchEnd","tileText","WithModifierPopover","handleClick","handleVisibilityChange","tooltipShown","modifiertype","modifierValue","stopPropagation","argument","components_Tooltip_Tooltip","onVisibilityChange","trigger","portalContainer","document","getElementsByClassName","ScrabbleInputBox_ModifierTile","ScrabbleInputBox","textHiddenInput","createRef","focus","handleHiddenInputChange","handleTileClick","inFocus","elements","click","isLetterAllowed","join","constructor","_clickOnElementByClass","letterIndex","current","_this$props3","onBlur","onFocus","maxLength","autoComplete","autoCapitalize","spellCheck","autoCorrect","ScrabbleInputBox_WithModifierPopover","handleModifierChange","emptyWord","InGameControls","handleChange","handleUndo","handleEndTurn","handleEndGame","handleAddWord","handleBingo","_scrollInputToTheMiddle","input","currentWord","wordsOfFirstPlayerTurn","scrollIntoView","block","onSetGame","resetCurrentWord","objectSpread","onUndo","addWord","endTurn","setBingo","endGame","num-of-turns","game-turns","turns","_this$props4","undoDisabled","endTurnButtonText","isEndGameButtonDisabled","getCurrentPlayerIndex","components_ScrabbleInputBox_ScrabbleInputBox","checked","htmlFor","InGameOverControls","handleLeftOvers","distributeLeftOversToReapers","getReapers","getSumOfLeftovers","leftovers","submitButtonText","ScoreKeeper","handleSetGame","renderWinner","beforeUnload","createNewGame","games","window","addEventListener","removeEventListener","returnValue","currentGame","previousGames","turnBeforeLeftOvers","winners","getWinners","winnersTie","winnerIndex","controlProps","src","alt","width","back","ScoreGrid_ScoreGridMobile","components_ScoreGrid_ScoreGrid","toDisplayCallPlayerToAction","ScrabbleScoreKeeper_InGameOverControls","ScrabbleScoreKeeper_InGameControls","defaultProps","ScrabbleScoreKeeper","handleWindowSizeChange","handlePopState","pushState","ReactGA","initialize","pageview","location","pathname","search","event","stateObj","innerWidth","player-names","components_GameSettings_GameSettings","ScrabbleScoreKeeper_ScoreKeeper","renderGame","Boolean","hostname","match","init","rootElement","hasChildNodes","hydrate","components_ScrabbleScoreKeeper_ScrabbleScoreKeeper","render","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9bfe5c59.chunk.js","sourcesContent":["export const scoreListsMap = {\n  en: {\n    language: 'English',\n    scores: {\n      a: 1,\n      e: 1,\n      i: 1,\n      o: 1,\n      u: 1,\n      l: 1,\n      n: 1,\n      r: 1,\n      s: 1,\n\t\t\tt: 1,\n      d: 2,\n      g: 2,\n      b: 3,\n      c: 3,\n      m: 3,\n      p: 3,\n      f: 4,\n      h: 4,\n      v: 4,\n      w: 4,\n      y: 4,\n\t\t\tk: 5,\n      j: 8,\n      x: 8,\n      q: 10,\n      z: 10,\n    },\n  },\n  fr: {\n    language: 'French',\n    scores: {\n      e: 1,\n      a: 1,\n      i: 1,\n      n: 1,\n      o: 1,\n      r: 1,\n      s: 1,\n      t: 1,\n      u: 1,\n      l: 1,\n\t\t\td: 2,\n      m: 2,\n      g: 2,\n      b: 3,\n      c: 3,\n      p: 3,\n      f: 4,\n      h: 4,\n      v: 4,\n      j: 8,\n      q: 8,\n      k: 10,\n\t\t\tw: 10,\n      x: 10,\n      y: 10,\n      z: 10,\n    },\n  },\n  ru: {\n    language: 'Russian',\n    scores: {\n      о: 1,\n      а: 1,\n      е: 1,\n      и: 1,\n      н: 1,\n      р: 1,\n      с: 1,\n      т: 1,\n      в: 1,\n\t\t\tд: 2,\n      к: 2,\n      л: 2,\n      п: 2,\n      у: 2,\n      м: 2,\n      б: 3,\n      г: 3,\n      ь: 3,\n      я: 3,\n      ё: 3,\n      ы: 4,\n      й: 4,\n\t\t\tз: 5,\n      ж: 5,\n      х: 5,\n      ц: 5,\n      ч: 5,\n      ш: 8,\n      э: 8,\n      ю: 8,\n      ф: 10,\n      щ: 10,\n      ъ: 10,\n    },\n  },\n};\n","import amplitude from 'amplitude-js';\nimport { scoreListsMap } from './scoreLists';\n\nexport function resizeArray(array, desiredLength, defaultValue) {\n  const output = array.slice(0, desiredLength);\n  while (output.length < desiredLength) output.push(defaultValue);\n  return output;\n}\n\nexport function indexesOf(array, value) {\n  const result = [];\n  for (let i = 0; i < array.length; i++) {\n    if (array[i] === value) {\n      result.push(i);\n    }\n  }\n  return result;\n}\n\nexport function isLetterAllowed(letter, language) {\n  return letter.toLowerCase() in scoreListsMap[language].scores;\n}\n\nexport function scrabbleScore(word, modifiers, language) {\n  let result = 0;\n\n  word.split('').forEach((letter, i) => {\n    let score = scoreListsMap[language].scores[letter.toLowerCase()];\n    // eslint-disable-next-line\n    switch (modifiers[i]) {\n      case 'blank': score *= 0; break;\n      case 'double-letter': score *= 2; break;\n      case 'triple-letter': score *= 3; break;\n    }\n    result += score;\n  });\n\n  modifiers.forEach((modifier) => {\n    // eslint-disable-next-line\n    switch (modifier) {\n      case 'double-word': result *= 2; break;\n      case 'triple-word': result *= 3; break;\n    }\n  });\n  return result;\n}\n\nexport function logEventInit() {\n  amplitude.getInstance().init('908142045794995ec39e6025a04bfdb4');\n}\n\nexport function isStaticBuild() {\n    return navigator.userAgent === 'ReactSnap';\n  }\n\nexport function isInProduction() {\n  return process.env.NODE_ENV === 'production';\n}\n\nexport function logEvent(eventName, eventData) {\n  if (isStaticBuild() || !isInProduction()) {\n    return;\n  }\n\n  try {\n    amplitude.getInstance().logEvent(eventName, eventData)\n  }\n  catch(error) {\n    console.log(`Something went wrong when logging an event. ${error}.`)\n  }\n}\n\nexport default null;\n","import React from 'react';\nimport './GameSettings.css';\nimport { logEvent, isStaticBuild } from '../../logic/util';\n\n\nclass GameSettings extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChangeOfName = this.handleChangeOfName.bind(this);\n    this.handleChangeOfLanguage = this.handleChangeOfLanguage.bind(this);\n    this.handleGameStart = this.handleGameStart.bind(this);\n\n    this.state = {\n      numberOfPlayers: 4,\n      playerNames: ['', ''],\n      language: 'en',\n      isTagDisabled: true,\n    };\n  }\n\n  componentDidMount() {\n    this.setState({isTagDisabled: isStaticBuild()});\n  }\n\n  handleChangeOfName(i, e) {\n    let { playerNames } = this.state;\n    playerNames = playerNames.slice();\n    playerNames[i] = e.target.value;\n    this.setState({ playerNames });\n  }\n\n  handleChangeOfLanguage(e) {\n    this.setState({ language: e.target.value });\n  }\n\n  handleGameStart(e) {\n    const { playerNames, language } = this.state;\n    const { onGameStart } = this.props;\n    e.preventDefault(); /* prevent form submission */\n    onGameStart(playerNames.map((name, i) => (name || `Player ${i + 1}`)), language);\n\n    logEvent('start-game', {playerNames: playerNames, language: language});    \n  }\n\n  render() {\n    const { language, numberOfPlayers, playerNames, isTagDisabled } = this.state;\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-sm-2 offset-sm-10\">\n            <select className=\"custom-select\" id=\"language-select\" value={language} onChange={this.handleChangeOfLanguage}>\n              <option value=\"en\">English</option>\n              <option value=\"ru\">Russian</option>\n              <option value=\"fr\">French</option>\n            </select>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-sm-12\">\n            <div className=\"logo\"></div>\n            <span className=\"description\">\n              <p>\n                 Hello and welcome to Scrabble Score Online. This is an easy-to-use tool\n                 that replaces pen-and-paper for keeping track of Scrabble scores.\n              </p>\n              <p>\n                 Simply fill in the players’ names in order that they will\n                 take turns and press the “START” button.\n              </p>\n              <p>Relax and enjoy your game, now you don’t need to do any math!</p>\n            </span>\n          </div>\n        </div>\n        <form>\n          <div className=\"player-names-choice-container\">\n            <div className=\"container\">\n              <div className=\"row\">\n                <div className=\"col-12\">\n                  {[...Array(numberOfPlayers)].map((_, i) => (\n                    <input\n                      onChange={e => this.handleChangeOfName(i, e)}\n                      id={`player-name-input-${i}`}\n                      key={i}\n                      type=\"text\"\n                      className={playerNames[i] && playerNames[i].length > 0 ? 'form-control player-name filled' : 'form-control player-name'}\n                      placeholder={`Player ${i + 1}`}\n                      disabled={isTagDisabled}\n                    />\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"start-btn-container\">\n            <button className=\"btn start\" type=\"button\" onClick={this.handleGameStart} disabled={isTagDisabled}>START</button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\n\nexport default GameSettings;\n","import { resizeArray, indexesOf } from './util';\n\nclass Turn {\n  /* DONE Add test for passed display in the scoregrid */\n  /* DONE once test are added, refactor to take out the passed variable from Turn */\n  constructor(words, bingo) {\n    this.words = words;\n    this.bingo = bingo;\n  }\n\n  static empty() {\n    return new Turn([], false);\n  }\n\n  isEmpty() {\n    return this.words.length === 0;\n  }\n\n  isPassed(game) {\n    return this.isEmpty() && this !== game.getCurrentTurn();\n  }\n\n  isComplete(game) {\n    return this !== game.getCurrentTurn()\n  }\n\n  get score() {\n    let result = 0;\n    for (let i = 0; i < this.words.length; i++) {\n      result += this.words[i].score;\n    }\n\n    if (this.bingo) {\n      result += 50;\n    }\n\n    return result;\n  }\n}\n\nexport default class Game {\n  constructor(players, currentPlayerIndex, leftOversTurnNumber) {\n    this.currentPlayerIndex = currentPlayerIndex;\n    this.playersTurns = players;\n    this.leftOversTurnNumber = leftOversTurnNumber;\n  }\n\n  static createNewGame(numberOfPlayers) {\n    const turn = Turn.empty();\n    const players = resizeArray([[turn]], numberOfPlayers, []);\n    return new Game(players, 0, null);\n  }\n\n  addWord(word) {\n    const currentTurn = this.getCurrentTurn();\n    const turn = new Turn([...currentTurn.words, word], currentTurn.bingo);\n    return this._setTurn(this.currentPlayerIndex, this.getCurrentTurnNumber(), turn);\n  }\n\n  endTurn() {\n    let newGame = this;\n    if (this.getCurrentTurn().isEmpty()) {\n      newGame = this._setTurn(this.currentPlayerIndex, this.getCurrentTurnNumber(), Turn.empty());\n    }\n    const newPlayerIndex = (this.currentPlayerIndex + 1) % this.playersTurns.length;\n    const players = this.isGameOver() && (this.getCurrentPlayer() === this.playersTurns[this.playersTurns.length - 1]) ? newGame.playersTurns\n      : newGame.playersTurns.map((history, playerIndex) => (playerIndex === newPlayerIndex ? [...history, Turn.empty()] : history));\n    return new Game(players, newPlayerIndex, this.leftOversTurnNumber);\n  }\n\n  setBingo(value) {\n    const turn = new Turn(this.getCurrentTurn().words, value);\n    return this._setTurn(this.currentPlayerIndex, this.getCurrentTurnNumber(), turn);\n  }\n\n  endGame() {\n    return new Game(this.playersTurns, this.currentPlayerIndex, this.getCurrentTurnNumber());\n  }\n\n  isGameOver() {\n    return this.leftOversTurnNumber !== null;\n  }\n\n  areLeftOversSubmitted() {\n    if (this.isGameOver() && this.playersTurns[this.playersTurns.length - 1][this.leftOversTurnNumber] && this.currentPlayerIndex === 0) {\n      return true;\n    }\n    return false;\n  }\n\n  getReapers() {\n    const reaperIndexes = [];\n    for (let i = 0; i < this.playersTurns.length; i++) {\n      if (this.playersTurns[i][this.leftOversTurnNumber].isEmpty()) {\n        reaperIndexes.push(i);\n      }\n    }\n    return reaperIndexes;\n  }\n\n  getSumOfLeftovers() {\n    let total = 0;\n    for (let i = 0; i < this.playersTurns.length; i++) {\n      total += Math.abs(this.playersTurns[i][this.leftOversTurnNumber].score);\n    }\n    return total;\n  }\n\n  distributeLeftOversToReapers(reapers, totalLeftOverScore) {\n    let game = this;\n    reapers.forEach((reaperIndex) => {\n      const turn = new Turn([{ value: '', modifiers: [], score: totalLeftOverScore }], false);\n      game = game._setTurn(reaperIndex, this.leftOversTurnNumber, turn);\n    });\n    return game;\n  }\n\n  getWinners(upToMove) {\n    const totalScores = this.playersTurns.map((_, i) => this.getTotalScore(i, upToMove));\n    return indexesOf(totalScores, Math.max(...totalScores));\n  }\n\n  _setTurn(playerIndex, turnNumber, turn) {\n    const playerCopy = this.playersTurns[playerIndex].slice();\n    playerCopy[turnNumber] = turn;\n    const newPlayers = this.playersTurns.map((player, i) => (i === playerIndex ? playerCopy : player));\n    return new Game(newPlayers, this.currentPlayerIndex, this.leftOversTurnNumber);\n  }\n\n  getCurrentPlayer() {\n    return this.playersTurns[this.currentPlayerIndex];\n  }\n\n  getCurrentTurn() {\n    return this.getCurrentPlayer().slice(-1)[0];\n  }\n\n  getCurrentTurnNumber() {\n    return this.playersTurns[0].length - 1;\n  }\n\n  getCurrentPlayerIndex() {\n    return this.currentPlayerIndex;\n  }\n\n  getRunningTotals(playerIndex) {\n    const player = this.playersTurns[playerIndex];\n    let result = [];\n    let totalScore = 0;\n    for (let i = 0; i < player.length; i++) {\n      totalScore += player[i].score\n      result.push(totalScore);\n    }\n    return result;\n  }\n  \n  getTotalScore(playerIndex, upToMove) {\n    let totals = this.getRunningTotals(playerIndex);\n    if (upToMove !== undefined)\n      return totals[upToMove];\n    return totals.length === 0 ? 0 : totals[totals.length - 1];\n  }\n}\n","import React from 'react';\nimport './ScrabbleTile.css';\n\nfunction ScrabbleTile(props) {\n  const {\n    modifier, letter, score, onClick,\n  } = props;\n  const modifierClass = modifier === null ? '' : modifier;\n  return (\n    <span className={`scrabble-letter ${modifierClass}`} role=\"button\" onClick={onClick} onKeyDown={onClick}>\n      <span className=\"letter\">{letter.toUpperCase()}</span>\n      <span className=\"score\">{score}</span>\n    </span>\n  );\n}\nexport default ScrabbleTile;\n","import React from 'react';\nimport { scrabbleScore } from '../../logic/util';\nimport ScrabbleTile from '../ScrabbleTile/ScrabbleTile';\n\nclass WordInTiles extends React.Component {\n  render() {\n    const { word, language } = this.props;\n    const letterTiles = word.value.split('').map((letter, i) => {\n      const tile = (\n        <ScrabbleTile\n          key={i}\n          letter={letter}\n          modifier={word.modifiers[i]}\n          score={scrabbleScore(letter, [null], language)}\n        />\n      );\n      return tile;\n    });\n    return <div>{letterTiles}</div>;\n  }\n}\n\nexport default WordInTiles;\n","import React from 'react';\nimport WordInTiles from './WordInTiles';\n\nclass ScoreGridCell extends React.Component {\n  renderPassed() {\n    return (\n      <tr>\n        <td>PASS</td>\n      </tr>\n    );\n  }\n\n  renderNormal() {\n    const { turn, language } = this.props;\n    const rows = turn.words.map((word, i) => (\n\n      <tr key={`row-word-${i}`} className=\"word-row\">\n        <td className=\"word-cell\"><WordInTiles word={word} language={language} /></td>\n        {i === 0\n          ? (\n            <td rowSpan={`${turn.bingo ? turn.words.length + 1 : turn.words.length}`} className=\"score-cell\">\n              <span className=\"score-box\">\n                {turn.score}\n              </span>\n            </td>\n          )\n          : null}\n      </tr>\n    ));\n\n    if (turn.bingo) {\n      rows.push(\n        <tr key=\"bingo\" className=\"table-row bingo-row\">\n          <td className=\"bingo-cell\"><span className=\"bingo\">BINGO!</span></td>\n        </tr>,\n      );\n    }\n    return rows;\n  }\n\n  render() {\n    const { turn, game } = this.props;\n    return (\n      <table className=\"score-grid-cell\">\n        <tbody>\n          {turn.isPassed(game) ? this.renderPassed() : this.renderNormal()}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default ScoreGridCell;\n","import React from 'react';\nimport ScoreGridCell from './ScoreGridCell';\nimport './ScoreGrid.css';\n\nfunction ScoreGrid(props) {\n  const { playerNames, game, language } = props;\n  const getTurnClass = (turn, currentTurn) => (\n    turn === currentTurn ? 'player-turn active' : 'player-turn'\n  );\n\n  return (\n    <table className=\"table table-bordered\" align=\"center\">\n      <thead>\n        <tr className=\"thead-rows\">\n          <th className=\"move-header\">Move</th>\n          {playerNames.map((player, i) => (\n            <th\n              key={i}\n              className=\"player-header\"\n            >\n              {player}\n            </th>\n          ))}\n        </tr>\n      </thead>\n      <tbody className=\"tbody-rows\">\n        {[...Array(game.getCurrentTurnNumber() + 1)].map((_, i) => (\n          <tr className=\"turn-row\" key={i}>\n            <th className=\"move-number\">{i + 1}</th>\n            {game.playersTurns.map((player, j) => (\n              <td key={j} className={getTurnClass(player[i], game.getCurrentTurn())}>\n                {player[i] ? <ScoreGridCell turn={player[i]} language={language} game={game} />\n                  : null}\n              </td>\n            ))}\n          </tr>\n        ))}\n        <tr className=\"total-score\">\n          <th className=\"move\">TOTAL</th>\n          {playerNames.map((_, i) => <td key={i}>{game.getTotalScore(i)}</td>)}\n        </tr>\n      </tbody>\n    </table>\n  );\n}\n\nexport default ScoreGrid;\n","import React from 'react';\n\nfunction CallPlayerToAction(props) {\n  const { isMobile, game, playerNames } = props;\n  \n  function callPlayerToAction() {\n    const playerName = playerNames[game.currentPlayerIndex];\n    const msgs = {\n      'mobile-ingame':    `Submit a word or end turn`,\n      'mobile-gameover':  `Submit your leftovers`,\n      'desktop-ingame':   `${playerName}, submit a word or end turn`,\n      'desktop-gameover': `${playerName}, submit your leftovers`,\n    };\n    return msgs[`${isMobile ? 'mobile' : 'desktop'}-${game.isGameOver() ? 'gameover':'ingame'}`];\n  }\n\n  return (\n    <div className=\"row justify-content-center\">\n      <span className=\"call-player-to-action\">{callPlayerToAction()}</span>\n    </div>\n  );\n}\n\nexport default CallPlayerToAction;\n","import React from 'react';\nimport ScoreGridCell from './ScoreGridCell';\nimport CallPlayerToAction from '../ScrabbleScoreKeeper/CallPlayerToAction';\nimport './ScoreGrid.css';\n\nclass ScoreGridMobile extends React.Component {\n  moveRowText(i) {\n    const { game } = this.props;\n    return game.isGameOver() && game.leftOversTurnNumber === i ? 'Leftovers Accounting' : `Move ${i + 1}`;\n  }\n\n  render() {\n    const { playerNames, game, language } = this.props;\n    const totalScores = [...Array(playerNames.length)].map((_, j) => game.getRunningTotals(j));\n    const toDisplayTotals = (turn) => {\n      if (!game.areLeftOversSubmitted()) {\n        return turn.isComplete(game);\n      }\n      return true;\n    };\n\n    const isCurrentPlayersTurn = (player, turnIndex) => player === game.getCurrentPlayer()\n                                                      && player[turnIndex].isEmpty()\n                                                      && !player[turnIndex].isPassed(game)\n                                                      && !player[turnIndex].bingo;\n    return (\n      <table className=\"table table-bordered\">\n        <thead>\n          <tr className=\"thead-rows\">\n            <th className=\"playerNames\" scope=\"col\">\nNames\n              <br />\n(Total)\n            </th>\n            <th className=\"playerTurn\" scope=\"col\">Player Turn</th>\n          </tr>\n        </thead>\n        <tbody key=\"tbody\" className=\"tbody-rows\">\n          {game.getCurrentPlayer().map((_, i) => {\n            const moveRow = (\n              <tr key={`moverow${i}`} className=\"move-row\">\n                <td colSpan=\"2\">\n                  {this.moveRowText(i)}\n                </td>\n              </tr>\n            );\n            const playerRows = game.playersTurns.map((player, j) => (\n              player[i]\n                ? (\n                  <tr key={`move${i}_player${j}`} className=\"player-move-row\">\n                    <td className=\"player-name\">\n                      {playerNames[j]}\n                      <br />\n                      {toDisplayTotals(player[i]) ? totalScores[j][i] : null}\n                    </td>\n\n                    <td className=\"player-turn\">\n                      {isCurrentPlayersTurn(player, i)\n                        ? <CallPlayerToAction game={game} playerNames={playerNames} isMobile />\n                        : <ScoreGridCell turn={player[i]} language={language} game={game} />\n                      }\n                    </td>\n                  </tr>\n                )\n                : null\n            ));\n            return [moveRow, playerRows];\n          })}\n        </tbody>\n      </table>\n    );\n  }\n}\nexport default ScoreGridMobile;\n","import React from 'react';\nimport TooltipTrigger from 'react-popper-tooltip';\nimport 'react-popper-tooltip/dist/styles.css';\nimport './Tooltip.css';\n\nconst Tooltip = ({\n  children, tooltip, hideArrow, ...props\n}) => (\n  <TooltipTrigger\n    {...props}\n    tooltip={({\n      arrowRef,\n      tooltipRef,\n      getArrowProps,\n      getTooltipProps,\n      placement,\n\n    }) => (\n      <div\n        {...getTooltipProps({\n          ref: tooltipRef,\n          className: 'tooltip-container',\n        })}\n      >\n        {!hideArrow && (\n          <div\n            {...getArrowProps({\n              ref: arrowRef,\n              className: 'tooltip-arrow',\n              'data-placement': placement,\n            })}\n          />\n        )}\n        {tooltip}\n      </div>\n    )}\n  >\n    {({ getTriggerProps, triggerRef }) => (\n      <span\n        {...getTriggerProps({\n          ref: triggerRef,\n          className: 'trigger',\n        })}\n      >\n        {children}\n      </span>\n    )}\n  </TooltipTrigger>\n);\n\nexport default Tooltip;\n","import React from 'react';\n\nclass ModifierTile extends React.Component {\n  tileText() {\n    const { modifier } = this.props;\n    switch (modifier) {\n      case 'double-letter': return 'Double letter score';\n      case 'double-word': return 'Double word score';\n      case 'triple-letter': return 'Triple letter score';\n      case 'triple-word': return 'Triple word score';\n      case 'blank': return 'Blank tile';\n      default: return null;\n    }\n  }\n\n  render() {\n    const { onClick, modifier } = this.props;\n    return (\n      <span\n        role=\"button\"\n        onClick={e => onClick(modifier, e)}\n        onKeyDown={e => onClick(modifier, e)}\n        onTouchEnd={e => onClick(modifier, e)}\n        className={`modifier ${modifier}`}\n      >\n        <span>\n          {this.tileText()}\n        </span>\n      </span>\n    );\n  }\n}\n\nexport default ModifierTile;\n","import React from 'react';\nimport Tooltip from '../Tooltip/Tooltip';\nimport ModifierTile from './ModifierTile';\n\nclass WithModifierPopover extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleVisibilityChange = this.handleVisibilityChange.bind(this);\n    this.state = {\n      modifier: null,\n      tooltipShown: false,\n    };\n  }\n\n  handleClick(modifiertype, e) {\n    const { modifier } = this.state;\n    const { onChange } = this.props;\n    const modifierValue = (modifiertype === modifier) ? null : modifiertype;\n    this.setState({ modifier: modifierValue, tooltipShown: false });\n    onChange(modifierValue);\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  handleVisibilityChange(argument) {\n    this.setState({ tooltipShown: argument });\n  }\n\n  render() {\n    const { tooltipShown } = this.state;\n    const { children } = this.props;\n    return (\n      <Tooltip\n        onVisibilityChange={this.handleVisibilityChange}\n        tooltipShown={tooltipShown}\n        placement=\"bottom\"\n        trigger=\"click\"\n        portalContainer={document.getElementsByClassName('main')[0]}\n        tooltip={(\n          <div>\n            <ModifierTile modifier=\"double-letter\" onClick={this.handleClick} />\n            <ModifierTile modifier=\"double-word\" onClick={this.handleClick} />\n            <ModifierTile modifier=\"triple-letter\" onClick={this.handleClick} />\n            <ModifierTile modifier=\"triple-word\" onClick={this.handleClick} />\n            <ModifierTile modifier=\"blank\" onClick={this.handleClick} />\n          </div>\n        )}\n      >\n        {children}\n      </Tooltip>\n    );\n  }\n}\n\nexport default WithModifierPopover;\n","import React from 'react';\nimport { resizeArray, scrabbleScore, isLetterAllowed, logEvent } from '../../logic/util';\nimport WithModifierPopover from './WithModifierPopover';\nimport ScrabbleTile from '../ScrabbleTile/ScrabbleTile';\nimport './ScrabbleInputBox.css';\n\nclass ScrabbleInputBox extends React.Component {\n  static _clickOnElementByClass(className) {\n    const elements = document.getElementsByClassName(className);\n    if (elements.length !== 0) elements[0].click();\n  }\n\n  constructor(props) {\n    super(props);\n    this.textHiddenInput = React.createRef();\n    this.focus = this.focus.bind(this);\n    this.handleHiddenInputChange = this.handleHiddenInputChange.bind(this);\n    this.handleTileClick = this.handleTileClick.bind(this);\n    this.state = {\n      inFocus: false,\n    };\n  }\n\n  handleHiddenInputChange(e) {\n    const { language, word, onChange } = this.props;\n    const input = e.target.value;\n    const result = input.split('').map(letter => (isLetterAllowed(letter, language) ? letter : ''));\n    const modifiers = resizeArray(word.modifiers, result.length, null);\n    onChange({ value: result.join(''), modifiers });\n    this.constructor._clickOnElementByClass('hidden-input');\n  }\n\n  handleModifierChange(letterIndex, modifier) {\n    const { word, onChange } = this.props;\n    const modifiers = word.modifiers.slice();\n    modifiers[letterIndex] = modifier;\n    onChange({ value: word.value, modifiers });\n\n    logEvent('modifier-added', {value: word.value, modifiers});\n  }\n\n  handleTileClick() {\n    this.focus();\n  }\n\n  focus() {\n    this.textHiddenInput.current.focus();\n  }\n\n  render() {\n    const { language, word } = this.props;\n    const { inFocus } = this.state;\n    return (\n      <div role=\"textbox\" onClick={this.focus} onKeyDown={this.focus} className={`scrabble-input-box${word.value.length > 8 ? ' large' : ''}`}>\n        <input\n          ref={this.textHiddenInput}\n          onChange={this.handleHiddenInputChange}\n          value={word.value}\n          className=\"hidden-input\"\n          onBlur={() => this.setState({ inFocus: false })}\n          onFocus={() => this.setState({ inFocus: true })}\n          type=\"text\"\n          maxLength=\"15\"\n          autoComplete=\"off\"\n          autoCapitalize=\"off\"\n          spellCheck=\"false\"\n          autoCorrect=\"off\"\n        />\n        <div className={inFocus ? 'scrabble-tiles blinker' : 'scrabble-tiles'}>\n          {word.value.split('').map((c, i) => (\n            <WithModifierPopover\n              onChange={modifier => this.handleModifierChange(i, modifier)}\n              key={i}\n            >\n              <ScrabbleTile\n                onClick={this.handleTileClick}\n                letter={c}\n                score={scrabbleScore(c, [null], language)}\n                modifier={word.modifiers[i]}\n              />\n            </WithModifierPopover>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default ScrabbleInputBox;\n","import React from 'react';\nimport { scrabbleScore, logEvent } from '../../logic/util';\nimport ScrabbleInputBox from '../ScrabbleInputBox/ScrabbleInputBox';\n\nconst emptyWord = { value: '', modifiers: [], score: 0 };\n\nclass InGameControls extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleUndo = this.handleUndo.bind(this);\n    this.handleEndTurn = this.handleEndTurn.bind(this);\n    this.handleEndGame = this.handleEndGame.bind(this);\n    this.handleAddWord = this.handleAddWord.bind(this);\n    this.handleBingo = this.handleBingo.bind(this);\n    this._scrollInputToTheMiddle = this._scrollInputToTheMiddle.bind(this);\n    this.input = React.createRef();\n    this.state = {\n      currentWord: emptyWord,\n    };\n  }\n\n  _scrollInputToTheMiddle() {\n    const { game, isMobile } = this.props;\n    const elements = document.getElementsByClassName('add-word');\n    const wordsOfFirstPlayerTurn = game.playersTurns[0][0].words;\n    if (isMobile && elements.length !== 0 && wordsOfFirstPlayerTurn.length !== 0) \n      { elements[0].scrollIntoView({ block: 'center' }) }\n  }\n\n  componentDidMount() {\n    if (this.input.current) this.input.current.focus();\n  }\n\n  onSetGame(game) {\n    const { onSetGame } = this.props;\n    onSetGame(game);\n    this.resetCurrentWord();\n  }\n\n  resetCurrentWord() {\n    this.setState({ currentWord: emptyWord });\n    if (this.input.current) this.input.current.focus();\n  }\n\n  handleChange(word) {\n    const { language } = this.props;\n    const currentWord = { ...word, score: scrabbleScore(word.value, word.modifiers, language) };\n    this.setState({ currentWord });\n  }\n\n  handleUndo() {\n    const { onUndo } = this.props;\n    onUndo();\n    this.resetCurrentWord();\n    this._scrollInputToTheMiddle();\n\n    logEvent('undo');\n  }\n\n  handleAddWord() {\n    const { currentWord } = this.state;\n    const { game } = this.props;\n    this.onSetGame(game.addWord(currentWord));\n    this._scrollInputToTheMiddle();\n\n    logEvent('add-word', {'word': currentWord});\n  }\n\n  handleEndTurn(e) {\n    const { currentWord } = this.state;\n    let { game } = this.props;\n    e.preventDefault(); /* prevent form submission */\n    game = currentWord.value.length !== 0 ? game.addWord(currentWord) : game;\n    this.onSetGame(game.endTurn());\n    this._scrollInputToTheMiddle();\n\n    const data = currentWord.value.length !== 0\n                        ? {'word': currentWord}\n                        : {};\n    logEvent('end-turn', data);\n  }\n\n  handleBingo() {\n    const { game, onSetGame } = this.props;\n    onSetGame(game.setBingo(!game.getCurrentTurn().bingo));\n    this._scrollInputToTheMiddle();\n\n    logEvent('toggle-bingo');\n  }\n\n  handleEndGame() {\n    const { game, onSetGame } = this.props;\n    onSetGame(game.endGame());\n    this._scrollInputToTheMiddle();\n\n    logEvent('end-game', {'num-of-turns': game.playersTurns.length,\n                          'game-turns': game.playersTurns.map((turns, i) => ({turns: turns}))});\n  }\n\n  render() {\n    const { currentWord } = this.state;\n    const { game, language, undoDisabled } = this.props;\n    const endTurnButtonText = game.getCurrentTurn().isEmpty() && currentWord.value === '' ? 'PASS' : 'END TURN';\n    const isEndGameButtonDisabled = game.currentPlayerIndex !== 0 || currentWord.value !== '' || game.getCurrentTurn().score > 0 || game.playersTurns[game.getCurrentPlayerIndex()].length === 1;\n\n    const props = {\n      ref: this.input,\n      onChange: this.handleChange,\n      word: currentWord,\n      language,\n    };\n\n    return (\n      <form>\n        <ScrabbleInputBox {...props} />\n        <div className=\"buttons\">\n          <div className=\"row\">\n            <div className=\"col\">\n              <button onClick={this.handleAddWord} type=\"button\" className=\"btn word-submit-button add-word\" disabled={currentWord.value === ''}>+ ADD A WORD</button>\n            </div>\n            <div className=\"col\">\n              <input onChange={this.handleBingo} type=\"checkbox\" id=\"bingoToggle\" checked={game.getCurrentTurn().bingo} />\n              <label className=\"btn bingo\" htmlFor=\"bingoToggle\">\n                BINGO\n              </label>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col\">\n              <button onClick={this.handleEndTurn} type=\"submit\" className=\"btn pass-endturn-button\">{endTurnButtonText}</button>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col\">\n              <button onClick={this.handleUndo} type=\"button\" className=\"btn word-submit-button undo\" disabled={undoDisabled}>UNDO</button>\n            </div>\n            <div className=\"col\">\n              <button onClick={this.handleEndGame} type=\"button\" className=\"btn end-game\" disabled={isEndGameButtonDisabled}>END GAME</button>\n            </div>\n          </div>\n        </div>\n        <h3>How to use Scrabble Score Online:</h3>\n        <ul>\n          <li>\n            If you are finished with your move, press END TURN to pass turn to the next player.\n            Note: if there is something typed in the input box, it will be submitted to your move when the END TURN is pressed.\n          </li>\n          <li>\n            If you have formed more than one word, type your first word in the input box, press ADD WORD.\n            The word will be added to your move, but it still will be your turn and you can continue adding words.\n            Note: you can add any number of words.\n          </li>\n          <li>\n            If you played seven tiles on a turn, press BINGO.\n            Note: This will add 50 points to your move.\n          </li>\n          <li>\n            If some of your tiles fell on Premium Squares (e.g. double-word square), type the word in the input box, \n            click on the tile that is located on a Premium Square. Choose a desired option from the poped window.\n            Note: if you need to use BLANK tile, follow the same instruction. Choose BLANK from the poped window.\n          </li>\n          <li>If you made a mistake, use unlimited UNDO.</li>\n          <li>When you finished your game, press END GAME.</li>\n        </ul>\n      </form>\n    );\n  }\n}\nexport default InGameControls;\n","import React from 'react';\nimport { scrabbleScore, logEvent } from '../../logic/util';\nimport ScrabbleInputBox from '../ScrabbleInputBox/ScrabbleInputBox';\n\nconst emptyWord = { value: '', modifiers: [], score: 0 };\n\nclass InGameOverControls extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleUndo = this.handleUndo.bind(this);\n    this.handleLeftOvers = this.handleLeftOvers.bind(this);\n    this.input = React.createRef();\n    this.state = {\n      currentWord: emptyWord,\n    };\n  }\n\n  componentDidMount() {\n    if (this.input.current) this.input.current.focus();\n  }\n\n  resetCurrentWord() {\n    this.setState({ currentWord: emptyWord });\n    if (this.input.current) this.input.current.focus();\n  }\n\n  handleUndo() {\n    const { onUndo } = this.props;\n    onUndo();\n    this.resetCurrentWord();\n\n    logEvent('undo');\n  }\n\n  handleChange(word) {\n    const { language } = this.props;\n    const currentWord = { ...word, score: -scrabbleScore(word.value, word.modifiers, language) };\n    this.setState({ currentWord });\n  }\n\n  handleLeftOvers(e) {\n    const { currentWord } = this.state;\n    const { onSetGame } = this.props;\n    let { game } = this.props;\n\n    e.preventDefault(); /* prevent form submission */\n\n    if (currentWord.value.length !== 0) game = game.addWord(currentWord);\n    game = game.endTurn();\n\n    if (game.currentPlayerIndex === 0) {\n      game = game.distributeLeftOversToReapers(game.getReapers(), game.getSumOfLeftovers());\n    }\n\n    onSetGame(game);\n    this.resetCurrentWord();\n\n    const data = currentWord.value.length !== 0\n                    ? {'leftovers': currentWord}\n                    : {};\n    logEvent('submit-leftovers', data)\n  }\n\n  render() {\n    const { currentWord } = this.state;\n    const { game, language, undoDisabled } = this.props;\n    const submitButtonText = currentWord.value.length > 0 ? 'SUBMIT LEFTOVERS' : 'SUBMIT NO LEFTOVERS';\n    return (\n      <div>\n        {!game.areLeftOversSubmitted()\n          ? (\n            <form autoComplete=\"off\">\n              <ScrabbleInputBox\n                ref={this.input}\n                onChange={this.handleChange}\n                word={currentWord}\n                language={language}\n              />\n              <div className=\"buttons\">\n                <div className=\"row\">\n                  <div className=\"col\">\n                    <button onClick={this.handleLeftOvers} type=\"submit\" className=\"btn pass-endturn-button\">{submitButtonText}</button>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col\">\n                    <button onClick={this.handleUndo} type=\"button\" className=\"btn word-submit-button undo\" disabled={undoDisabled}>UNDO</button>\n                  </div>\n                </div>\n              </div>\n            </form>\n          )\n          : (\n            <div className=\"buttons\">\n              <div className=\"row\">\n                <div className=\"col\">\n                  <button onClick={this.handleUndo} type=\"button\" className=\"btn word-submit-button undo\" disabled={undoDisabled}>UNDO</button>\n                </div>\n              </div>\n            </div>\n          )\n        }\n        <h3>How to use Scrabble Score Online:</h3>\n        <ul>\n          <li>\n              When the game ends, each player&apos;s score is reduced by the sum\n              of his or her unplayed letters. In addition, if a player has used all of his\n              or her letters, the sum of the other players&apos; unplayed letters is added to\n              that player&apos;s score.\n          </li>\n          <li>\n            If you finished your game without any tiles on your rack, press SUBMIT NO LEFTOVERS.\n          </li>\n          <li>\n            To submit tiles that are left on your rack when you&#32;\n            finished the game, type all the tiles in the input box and press SUBMIT LEFTOVERS.\n          </li>\n          <li>If you made a mistake, use unlimited UNDO.</li>\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default InGameOverControls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { isInProduction } from '../../logic/util';\nimport Game from '../../logic/game';\nimport ScoreGrid from '../ScoreGrid/ScoreGrid';\nimport ScoreGridMobile from '../ScoreGrid/ScoreGridMobile';\nimport CallPlayerToAction from './CallPlayerToAction';\nimport InGameControls from './InGameControls';\nimport InGameOverControls from './InGameOverControls';\n\nclass ScoreKeeper extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleUndo = this.handleUndo.bind(this);\n    this.handleSetGame = this.handleSetGame.bind(this);\n    this.renderWinner = this.renderWinner.bind(this);\n    this.beforeUnload = this.beforeUnload.bind(this);\n    const { playerNames } = this.props;\n    this.state = {\n      game: Game.createNewGame(playerNames.length),\n      games: [],\n    };\n  }\n \n  componentDidMount() {\n    window.addEventListener('beforeunload', this.beforeUnload);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('beforeunload', this.beforeUnload);  \n  }\n\n  beforeUnload(e) {\n    const { games, game } = this.state;\n    if (isInProduction() && games.length !== 0 && !game.isGameOver()) {\n      e.preventDefault();\n      e.returnValue = '';\n    }\n  }\n\n  handleSetGame(currentGame) {\n    const { game } = this.state;\n    let { games } = this.state;\n    games = [...games.slice(), game];\n    this.setState({ games, game: currentGame });\n  }\n\n  handleUndo() {\n    const { games } = this.state;\n    const previousGames = games.slice(0, -1);\n    const game = games[games.length - 1];\n    this.setState({ game, games: previousGames });\n\n  }\n\n  renderWinner() {\n    const { game } = this.state;\n    const { playerNames } = this.props;\n    const turnBeforeLeftOvers = game.leftOversTurnNumber - 1;\n    const winners = game.getWinners();\n    const winnersTie = game.getWinners(turnBeforeLeftOvers);\n    if (winners.length > 1) {\n      return winnersTie.map(winnerIndex => (winnersTie.length > 1\n        ? `${playerNames[winnerIndex]}: ${game.getTotalScore(winnerIndex, turnBeforeLeftOvers)} points`\n        : `${playerNames[winnerIndex]} won with ${game.getTotalScore(winnerIndex, turnBeforeLeftOvers)} points!`)).join(', ');\n    }\n    return `${playerNames[[...game.getWinners()]]} won with ${game.getTotalScore([...game.getWinners()])} points!`;\n  }\n\n  render() {\n    const { game, games } = this.state;\n    const { playerNames, language, isMobile } = this.props;\n\n    const controlProps = {\n      onSetGame: this.handleSetGame,\n      onUndo: this.handleUndo,\n      undoDisabled: games.length === 0,\n      isMobile,\n      game,\n      language,\n    };\n\n    const toDisplayCallPlayerToAction = () => {\n      if (!isMobile) {\n        return  <CallPlayerToAction game={game} playerNames={playerNames} isMobile={isMobile}/>\n      }\n    };\n\n     function back() {\n      window.history.back()\n    }\n\n    return (\n      <div className=\"score-keeper\">\n        <div className=\"container\">\n          <img id=\"logo\" role=\"button\" src=\"logo.png\" alt=\"Scrabble score logo\" width=\"212px\" onClick={() => back()}/>\n          <h1 className=\"title\">Scrabble Score Sheet</h1>\n          {isMobile\n            ? <ScoreGridMobile playerNames={playerNames} game={game} language={language} />\n            : <ScoreGrid playerNames={playerNames} game={game} language={language} />\n          }\n          {!game.areLeftOversSubmitted()\n            ? toDisplayCallPlayerToAction()\n            : (\n              <div className=\"winner\">\n                <h1>{this.renderWinner()}</h1>\n              </div>\n            )\n              }\n          {!game.isGameOver()\n            ? <InGameControls {...controlProps} />\n            : <InGameOverControls {...controlProps} />\n              }\n        </div>\n      </div>\n    );\n  }\n}\n\nScoreKeeper.propTypes = {\n  playerNames: PropTypes.arrayOf(PropTypes.string),\n  language: PropTypes.string,\n};\n\nScoreKeeper.defaultProps = {\n  playerNames: ['Player 1', 'Player 2'],\n  language: 'en',\n};\n\nexport default ScoreKeeper;\n","import ReactGA from 'react-ga';\nimport React from 'react';\nimport GameSettings from '../GameSettings/GameSettings';\nimport ScoreKeeper from './ScoreKeeper';\nimport './ScrabbleScoreKeeper.css';\nimport { logEvent } from '../../logic/util';\n\n\nclass ScrabbleScoreKeeper extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleGameStart = this.handleGameStart.bind(this);\n    this.handleWindowSizeChange = this.handleWindowSizeChange.bind(this);\n    this.handlePopState = this.handlePopState.bind(this);\n    this.state = {\n      playerNames: [],\n      language: '',\n      width: 10,\n    };\n  }\n\n  componentDidMount() {\n    /* - pushState() allows to modifiy browser history entries;\n       - popstate listens for changes in browser history,like back/front button click;\n       - when history is changed, this.handlePopState function is being fired;\n       - this.handlePopState changes state for ScrabbleScoreKeeper component;\n       - ScrabbleScoreKeeper component rerenders, displaying correct state;\n    */\n\n    const { playerNames } = this.state;\n    window.history.pushState({ playerNames: playerNames }, null) \n    window.addEventListener('popstate', this.handlePopState); \n\n    ReactGA.initialize('UA-144533310-1');\n    ReactGA.pageview(window.location.pathname + window.location.search);\n    this.handleWindowSizeChange();\n  }\n\n  componentWillMount() {\n    window.addEventListener('resize', this.handleWindowSizeChange);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleWindowSizeChange);\n    window.removeEventListener('popstate', this.handlePopState);\n  }\n\n  handlePopState(event) {\n   const stateObj = event.state;\n   this.setState({playerNames:stateObj.playerNames})\n  }\n\n  handleWindowSizeChange() {\n    this.setState({ width: window.innerWidth });\n  }\n\n  handleGameStart(playerNames, language) {\n    logEvent('start-game', {'player-names': playerNames, 'language': language});\n    window.history.pushState({ playerNames: playerNames }, null)\n    this.setState({ playerNames, language });\n  }\n\n  renderGame(isMobile) {\n    const { playerNames, language } = this.state;\n    return playerNames.length === 0\n      ? <GameSettings onGameStart={this.handleGameStart}/>\n      : <ScoreKeeper playerNames={playerNames} language={language} isMobile={isMobile} />;\n  }\n\n  render() {\n    const { width } = this.state;\n    const isMobile = width <= 815;\n    return (\n      <div className={`main ${isMobile ? 'mobile' : 'desktop'}`}>\n        {this.renderGame(isMobile)}\n      </div>\n    );\n  }\n}\n\nexport default ScrabbleScoreKeeper;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won\"t work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let\"s check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It\"s the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can\"t reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { hydrate, render } from \"react-dom\";\nimport './index.css';\nimport ScrabbleScoreKeeper from './components/ScrabbleScoreKeeper/ScrabbleScoreKeeper';\nimport * as serviceWorker from './serviceWorker';\nimport { logEventInit } from './logic/util';\n\n\n/*This initializes amplitude event tracking instance*/\nlogEventInit()\n\nconst rootElement = document.getElementsByClassName('content')[0];\nif (rootElement.hasChildNodes()) {\n  hydrate(<ScrabbleScoreKeeper/>, rootElement);\n} else {\n  render(<ScrabbleScoreKeeper/>, rootElement);\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}