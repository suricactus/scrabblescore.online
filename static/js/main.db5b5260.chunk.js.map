{"version":3,"sources":["components/GameSettings/GameSettings.js","logic/scoreLists.js","logic/util.js","logic/game.js","components/ScrabbleTile/ScrabbleTile.js","components/ScoreGrid/WordInTiles.js","components/ScoreGrid/ScoreGridCell.js","components/ScoreGrid/ScoreGrid.js","components/ScrabbleScoreKeeper/CallPlayerToAction.js","components/ScoreGrid/ScoreGridMobile.js","components/Tooltip/Tooltip.js","components/ScrabbleInputBox/ModifierTile.js","components/ScrabbleInputBox/WithModifierPopover.js","components/ScrabbleInputBox/ScrabbleInputBox.js","components/ScrabbleScoreKeeper/InGameControls.js","components/ScrabbleScoreKeeper/InGameOverControls.js","components/ScrabbleScoreKeeper/ScoreKeeper.js","components/ScrabbleScoreKeeper/ScrabbleScoreKeeper.js","serviceWorker.js","index.js"],"names":["amplitude","require","GameSettings","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChangeOfName","bind","assertThisInitialized","handleChangeOfLanguage","handleGameStart","state","numberOfPlayers","playerNames","language","isStartButtonDisabled","navigator","userAgent","setState","constructor","isStatic","i","e","slice","target","value","_this$state","onGameStart","preventDefault","map","name","concat","getInstance","init","logEvent","_this2","_this$state2","react_default","a","createElement","className","id","onChange","toConsumableArray","Array","_","key","type","length","placeholder","onClick","disabled","React","Component","scoreListsMap","en","scores","o","u","l","n","r","s","t","d","g","b","c","m","p","f","h","v","w","y","k","j","x","q","z","fr","ru","о","а","е","и","н","р","с","т","в","д","к","л","п","у","м","б","г","ь","я","ё","ы","й","з","ж","х","ц","ч","ш","э","ю","ф","щ","ъ","resizeArray","array","desiredLength","defaultValue","output","push","scrabbleScore","word","modifiers","result","split","forEach","letter","score","toLowerCase","modifier","Turn","words","bingo","game","isEmpty","getCurrentTurn","Game","players","currentPlayerIndex","leftOversTurnNumber","playersTurns","currentTurn","turn","_setTurn","getCurrentTurnNumber","newGame","empty","newPlayerIndex","isGameOver","getCurrentPlayer","history","playerIndex","reaperIndexes","total","Math","abs","reapers","totalLeftOverScore","reaperIndex","upToMove","totalScores","getTotalScore","indexesOf","max","apply","turnNumber","playerCopy","player","totalScore","totals","getRunningTotals","undefined","ScrabbleTile","modifierClass","role","onKeyDown","toUpperCase","WordInTiles","_this$props","letterTiles","components_ScrabbleTile_ScrabbleTile","ScoreGridCell","rows","ScoreGrid_WordInTiles","rowSpan","_this$props2","isPassed","renderPassed","renderNormal","ScoreGrid","align","ScoreGrid_ScoreGridCell","CallPlayerToAction","isMobile","playerName","mobile-ingame","mobile-gameover","desktop-ingame","desktop-gameover","callPlayerToAction","ScoreGridMobile","scope","colSpan","moveRowText","areLeftOversSubmitted","isComplete","turnIndex","isCurrentPlayersTurn","ScrabbleScoreKeeper_CallPlayerToAction","Tooltip","_ref","children","tooltip","hideArrow","objectWithoutProperties","react_popper_tooltip","assign","_ref2","arrowRef","tooltipRef","getArrowProps","getTooltipProps","placement","ref","data-placement","_ref3","getTriggerProps","triggerRef","ModifierTile","onTouchEnd","tileText","WithModifierPopover","handleClick","handleVisibilityChange","tooltipShown","modifiertype","modifierValue","stopPropagation","ReactGA","event","category","action","argument","components_Tooltip_Tooltip","onVisibilityChange","trigger","portalContainer","document","getElementsByClassName","ScrabbleInputBox_ModifierTile","ScrabbleInputBox","textHiddenInput","createRef","focus","handleHiddenInputChange","handleTileClick","inFocus","elements","click","isLetterAllowed","join","_clickOnElementByClass","letterIndex","current","_this$props3","onBlur","onFocus","maxLength","autoComplete","autoCapitalize","spellCheck","autoCorrect","ScrabbleInputBox_WithModifierPopover","handleModifierChange","emptyWord","InGameControls","handleChange","handleUndo","handleEndTurn","handleEndGame","handleAddWord","handleBingo","_scrollInputToTheMiddle","input","currentWord","wordsOfFirstPlayerTurn","scrollIntoView","block","onSetGame","resetCurrentWord","objectSpread","onUndo","addWord","JSON","parse","stringify","_amplitude$getInstanc","endTurn","eventValue","setBingo","endGame","NumOfTurns","_this$props4","undoDisabled","endTurnButtonText","isEndGameButtonDisabled","getCurrentPlayerIndex","components_ScrabbleInputBox_ScrabbleInputBox","checked","htmlFor","InGameOverControls","handleLeftOvers","distributeLeftOversToReapers","getReapers","getSumOfLeftovers","submitButtonText","ScoreKeeper","handleSetGame","renderWinner","beforeUnload","createNewGame","games","window","addEventListener","removeEventListener","returnValue","currentGame","previousGames","turnBeforeLeftOvers","winners","getWinners","winnersTie","winnerIndex","controlProps","src","alt","width","ScoreGrid_ScoreGridMobile","components_ScoreGrid_ScoreGrid","toDisplayCallPlayerToAction","ScrabbleScoreKeeper_InGameOverControls","ScrabbleScoreKeeper_InGameControls","defaultProps","ScrabbleScoreKeeper","handleWindowSizeChange","handlePopState","pushState","initialize","pageview","location","pathname","search","stateObj","innerWidth","components_GameSettings_GameSettings","ScrabbleScoreKeeper_ScoreKeeper","renderGame","Boolean","hostname","match","rootElement","hasChildNodes","hydrate","components_ScrabbleScoreKeeper_ScrabbleScoreKeeper","render","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.db5b5260.chunk.js","sourcesContent":["import React from 'react';\nimport './GameSettings.css';\nconst amplitude = require('amplitude-js/amplitude')\n\nclass GameSettings extends React.Component {\n  static isStatic() {\n    return navigator.userAgent === 'ReactSnap';\n  }\n\n  constructor(props) {\n    super(props);\n    this.handleChangeOfName = this.handleChangeOfName.bind(this);\n    this.handleChangeOfLanguage = this.handleChangeOfLanguage.bind(this);\n    this.handleGameStart = this.handleGameStart.bind(this);\n\n    this.state = {\n      numberOfPlayers: 4,\n      playerNames: ['', ''],\n      language: 'en',\n      isStartButtonDisabled: true,\n    };\n  }\n\n  componentDidMount() {\n    this.setState({isStartButtonDisabled: this.constructor.isStatic()});\n  }\n\n  handleChangeOfName(i, e) {\n    let { playerNames } = this.state;\n    playerNames = playerNames.slice();\n    playerNames[i] = e.target.value;\n    this.setState({ playerNames });\n  }\n\n  handleChangeOfLanguage(e) {\n    this.setState({ language: e.target.value });\n  }\n\n  handleGameStart(e) {\n    const { playerNames, language } = this.state;\n    const { onGameStart } = this.props;\n    e.preventDefault(); /* prevent form submission */\n    onGameStart(playerNames.map((name, i) => (name || `Player ${i + 1}`)), language);\n\n    amplitude.getInstance().init('908142045794995ec39e6025a04bfdb4');\n    amplitude.getInstance().logEvent('START GAME');\n  }\n\n  render() {\n    const { language, numberOfPlayers, playerNames, isStartButtonDisabled } = this.state;\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-sm-2 offset-sm-10\">\n            <select className=\"custom-select\" id=\"language-select\" value={language} onChange={this.handleChangeOfLanguage}>\n              <option value=\"en\">English</option>\n              <option value=\"ru\">Russian</option>\n              <option value=\"fr\">French</option>\n            </select>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-sm-12\">\n            <div className=\"logo\"></div>\n            <span className=\"description\">\n              <p>\n                 Hello and welcome to Scrabble Score Online. This is an easy-to-use tool\n                 that replaces pen-and-paper for keeping track of Scrabble scores.\n              </p>\n              <p>\n                 Simply fill in the players’ names in order that they will\n                 take turns and press the “START” button.\n              </p>\n              <p>Relax and enjoy your game, now you don’t need to do any math!</p>\n            </span>\n          </div>\n        </div>\n        <form>\n          <div className=\"player-names-choice-container\">\n            <div className=\"container\">\n              <div className=\"row\">\n                <div className=\"col-12\">\n                  {[...Array(numberOfPlayers)].map((_, i) => (\n                    <input\n                      onChange={e => this.handleChangeOfName(i, e)}\n                      id={`player-name-input-${i}`}\n                      key={i}\n                      type=\"text\"\n                      className={playerNames[i] && playerNames[i].length > 0 ? 'form-control player-name filled' : 'form-control player-name'}\n                      placeholder={`Player ${i + 1}`}\n                    />\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"start-btn-container\">\n            <button className=\"btn start\" type=\"button\" onClick={this.handleGameStart} disabled={isStartButtonDisabled}>START</button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\n\nexport default GameSettings;\n","export const scoreListsMap = {\n  en: {\n    language: 'English',\n    scores: {\n      a: 1,\n      e: 1,\n      i: 1,\n      o: 1,\n      u: 1,\n      l: 1,\n      n: 1,\n      r: 1,\n      s: 1,\n\t\t\tt: 1,\n      d: 2,\n      g: 2,\n      b: 3,\n      c: 3,\n      m: 3,\n      p: 3,\n      f: 4,\n      h: 4,\n      v: 4,\n      w: 4,\n      y: 4,\n\t\t\tk: 5,\n      j: 8,\n      x: 8,\n      q: 10,\n      z: 10,\n    },\n  },\n  fr: {\n    language: 'French',\n    scores: {\n      e: 1,\n      a: 1,\n      i: 1,\n      n: 1,\n      o: 1,\n      r: 1,\n      s: 1,\n      t: 1,\n      u: 1,\n      l: 1,\n\t\t\td: 2,\n      m: 2,\n      g: 2,\n      b: 3,\n      c: 3,\n      p: 3,\n      f: 4,\n      h: 4,\n      v: 4,\n      j: 8,\n      q: 8,\n      k: 10,\n\t\t\tw: 10,\n      x: 10,\n      y: 10,\n      z: 10,\n    },\n  },\n  ru: {\n    language: 'Russian',\n    scores: {\n      о: 1,\n      а: 1,\n      е: 1,\n      и: 1,\n      н: 1,\n      р: 1,\n      с: 1,\n      т: 1,\n      в: 1,\n\t\t\tд: 2,\n      к: 2,\n      л: 2,\n      п: 2,\n      у: 2,\n      м: 2,\n      б: 3,\n      г: 3,\n      ь: 3,\n      я: 3,\n      ё: 3,\n      ы: 4,\n      й: 4,\n\t\t\tз: 5,\n      ж: 5,\n      х: 5,\n      ц: 5,\n      ч: 5,\n      ш: 8,\n      э: 8,\n      ю: 8,\n      ф: 10,\n      щ: 10,\n      ъ: 10,\n    },\n  },\n};\n","import { scoreListsMap } from './scoreLists';\n\nexport function resizeArray(array, desiredLength, defaultValue) {\n  const output = array.slice(0, desiredLength);\n  while (output.length < desiredLength) output.push(defaultValue);\n  return output;\n}\n\nexport function indexesOf(array, value) {\n  const result = [];\n  for (let i = 0; i < array.length; i++) {\n    if (array[i] === value) {\n      result.push(i);\n    }\n  }\n  return result;\n}\n\nexport function isLetterAllowed(letter, language) {\n  return letter.toLowerCase() in scoreListsMap[language].scores;\n}\n\nexport function scrabbleScore(word, modifiers, language) {\n  let result = 0;\n\n  word.split('').forEach((letter, i) => {\n    let score = scoreListsMap[language].scores[letter.toLowerCase()];\n    // eslint-disable-next-line\n    switch (modifiers[i]) {\n      case 'blank': score *= 0; break;\n      case 'double-letter': score *= 2; break;\n      case 'triple-letter': score *= 3; break;\n    }\n    result += score;\n  });\n\n  modifiers.forEach((modifier) => {\n    // eslint-disable-next-line\n    switch (modifier) {\n      case 'double-word': result *= 2; break;\n      case 'triple-word': result *= 3; break;\n    }\n  });\n  return result;\n}\n\nexport default null;\n","import { resizeArray, indexesOf } from './util';\n\nclass Turn {\n  /* DONE Add test for passed display in the scoregrid */\n  /* DONE once test are added, refactor to take out the passed variable from Turn */\n  constructor(words, bingo) {\n    this.words = words;\n    this.bingo = bingo;\n  }\n\n  static empty() {\n    return new Turn([], false);\n  }\n\n  isEmpty() {\n    return this.words.length === 0;\n  }\n\n  isPassed(game) {\n    return this.isEmpty() && this !== game.getCurrentTurn();\n  }\n\n  isComplete(game) {\n    return this !== game.getCurrentTurn()\n  }\n\n  get score() {\n    let result = 0;\n    for (let i = 0; i < this.words.length; i++) {\n      result += this.words[i].score;\n    }\n\n    if (this.bingo) {\n      result += 50;\n    }\n\n    return result;\n  }\n}\n\nexport default class Game {\n  constructor(players, currentPlayerIndex, leftOversTurnNumber) {\n    this.currentPlayerIndex = currentPlayerIndex;\n    this.playersTurns = players;\n    this.leftOversTurnNumber = leftOversTurnNumber;\n  }\n\n  static createNewGame(numberOfPlayers) {\n    const turn = Turn.empty();\n    const players = resizeArray([[turn]], numberOfPlayers, []);\n    return new Game(players, 0, null);\n  }\n\n  addWord(word) {\n    const currentTurn = this.getCurrentTurn();\n    const turn = new Turn([...currentTurn.words, word], currentTurn.bingo);\n    return this._setTurn(this.currentPlayerIndex, this.getCurrentTurnNumber(), turn);\n  }\n\n  endTurn() {\n    let newGame = this;\n    if (this.getCurrentTurn().isEmpty()) {\n      newGame = this._setTurn(this.currentPlayerIndex, this.getCurrentTurnNumber(), Turn.empty());\n    }\n    const newPlayerIndex = (this.currentPlayerIndex + 1) % this.playersTurns.length;\n    const players = this.isGameOver() && (this.getCurrentPlayer() === this.playersTurns[this.playersTurns.length - 1]) ? newGame.playersTurns\n      : newGame.playersTurns.map((history, playerIndex) => (playerIndex === newPlayerIndex ? [...history, Turn.empty()] : history));\n    return new Game(players, newPlayerIndex, this.leftOversTurnNumber);\n  }\n\n  setBingo(value) {\n    const turn = new Turn(this.getCurrentTurn().words, value);\n    return this._setTurn(this.currentPlayerIndex, this.getCurrentTurnNumber(), turn);\n  }\n\n  endGame() {\n    return new Game(this.playersTurns, this.currentPlayerIndex, this.getCurrentTurnNumber());\n  }\n\n  isGameOver() {\n    return this.leftOversTurnNumber !== null;\n  }\n\n  areLeftOversSubmitted() {\n    if (this.isGameOver() && this.playersTurns[this.playersTurns.length - 1][this.leftOversTurnNumber] && this.currentPlayerIndex === 0) {\n      return true;\n    }\n    return false;\n  }\n\n  getReapers() {\n    const reaperIndexes = [];\n    for (let i = 0; i < this.playersTurns.length; i++) {\n      if (this.playersTurns[i][this.leftOversTurnNumber].isEmpty()) {\n        reaperIndexes.push(i);\n      }\n    }\n    return reaperIndexes;\n  }\n\n  getSumOfLeftovers() {\n    let total = 0;\n    for (let i = 0; i < this.playersTurns.length; i++) {\n      total += Math.abs(this.playersTurns[i][this.leftOversTurnNumber].score);\n    }\n    return total;\n  }\n\n  distributeLeftOversToReapers(reapers, totalLeftOverScore) {\n    let game = this;\n    reapers.forEach((reaperIndex) => {\n      const turn = new Turn([{ value: '', modifiers: [], score: totalLeftOverScore }], false);\n      game = game._setTurn(reaperIndex, this.leftOversTurnNumber, turn);\n    });\n    return game;\n  }\n\n  getWinners(upToMove) {\n    const totalScores = this.playersTurns.map((_, i) => this.getTotalScore(i, upToMove));\n    return indexesOf(totalScores, Math.max(...totalScores));\n  }\n\n  _setTurn(playerIndex, turnNumber, turn) {\n    const playerCopy = this.playersTurns[playerIndex].slice();\n    playerCopy[turnNumber] = turn;\n    const newPlayers = this.playersTurns.map((player, i) => (i === playerIndex ? playerCopy : player));\n    return new Game(newPlayers, this.currentPlayerIndex, this.leftOversTurnNumber);\n  }\n\n  getCurrentPlayer() {\n    return this.playersTurns[this.currentPlayerIndex];\n  }\n\n  getCurrentTurn() {\n    return this.getCurrentPlayer().slice(-1)[0];\n  }\n\n  getCurrentTurnNumber() {\n    return this.playersTurns[0].length - 1;\n  }\n\n  getCurrentPlayerIndex() {\n    return this.currentPlayerIndex;\n  }\n\n  getRunningTotals(playerIndex) {\n    const player = this.playersTurns[playerIndex];\n    let result = [];\n    let totalScore = 0;\n    for (let i = 0; i < player.length; i++) {\n      totalScore += player[i].score\n      result.push(totalScore);\n    }\n    return result;\n  }\n  \n  getTotalScore(playerIndex, upToMove) {\n    let totals = this.getRunningTotals(playerIndex);\n    if (upToMove !== undefined)\n      return totals[upToMove];\n    return totals.length === 0 ? 0 : totals[totals.length - 1];\n  }\n}\n","import React from 'react';\nimport './ScrabbleTile.css';\n\nfunction ScrabbleTile(props) {\n  const {\n    modifier, letter, score, onClick,\n  } = props;\n  const modifierClass = modifier === null ? '' : modifier;\n  return (\n    <span className={`scrabble-letter ${modifierClass}`} role=\"button\" onClick={onClick} onKeyDown={onClick}>\n      <span className=\"letter\">{letter.toUpperCase()}</span>\n      <span className=\"score\">{score}</span>\n    </span>\n  );\n}\nexport default ScrabbleTile;\n","import React from 'react';\nimport { scrabbleScore } from '../../logic/util';\nimport ScrabbleTile from '../ScrabbleTile/ScrabbleTile';\n\nclass WordInTiles extends React.Component {\n  render() {\n    const { word, language } = this.props;\n    const letterTiles = word.value.split('').map((letter, i) => {\n      const tile = (\n        <ScrabbleTile\n          key={i}\n          letter={letter}\n          modifier={word.modifiers[i]}\n          score={scrabbleScore(letter, [null], language)}\n        />\n      );\n      return tile;\n    });\n    return <div>{letterTiles}</div>;\n  }\n}\n\nexport default WordInTiles;\n","import React from 'react';\nimport WordInTiles from './WordInTiles';\n\nclass ScoreGridCell extends React.Component {\n  renderPassed() {\n    return (\n      <tr>\n        <td>PASS</td>\n      </tr>\n    );\n  }\n\n  renderNormal() {\n    const { turn, language } = this.props;\n    const rows = turn.words.map((word, i) => (\n\n      <tr key={`row-word-${i}`} className=\"word-row\">\n        <td className=\"word-cell\"><WordInTiles word={word} language={language} /></td>\n        {i === 0\n          ? (\n            <td rowSpan={`${turn.bingo ? turn.words.length + 1 : turn.words.length}`} className=\"score-cell\">\n              <span className=\"score-box\">\n                {turn.score}\n              </span>\n            </td>\n          )\n          : null}\n      </tr>\n    ));\n\n    if (turn.bingo) {\n      rows.push(\n        <tr key=\"bingo\" className=\"table-row bingo-row\">\n          <td className=\"bingo-cell\"><span className=\"bingo\">BINGO!</span></td>\n        </tr>,\n      );\n    }\n    return rows;\n  }\n\n  render() {\n    const { turn, game } = this.props;\n    return (\n      <table className=\"score-grid-cell\">\n        <tbody>\n          {turn.isPassed(game) ? this.renderPassed() : this.renderNormal()}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default ScoreGridCell;\n","import React from 'react';\nimport ScoreGridCell from './ScoreGridCell';\nimport './ScoreGrid.css';\n\nfunction ScoreGrid(props) {\n  const { playerNames, game, language } = props;\n  const getTurnClass = (turn, currentTurn) => (\n    turn === currentTurn ? 'player-turn active' : 'player-turn'\n  );\n\n  return (\n    <table className=\"table table-bordered\" align=\"center\">\n      <thead>\n        <tr className=\"thead-rows\">\n          <th className=\"move-header\">Move</th>\n          {playerNames.map((player, i) => (\n            <th\n              key={i}\n              className=\"player-header\"\n            >\n              {player}\n            </th>\n          ))}\n        </tr>\n      </thead>\n      <tbody className=\"tbody-rows\">\n        {[...Array(game.getCurrentTurnNumber() + 1)].map((_, i) => (\n          <tr className=\"turn-row\" key={i}>\n            <th className=\"move-number\">{i + 1}</th>\n            {game.playersTurns.map((player, j) => (\n              <td key={j} className={getTurnClass(player[i], game.getCurrentTurn())}>\n                {player[i] ? <ScoreGridCell turn={player[i]} language={language} game={game} />\n                  : null}\n              </td>\n            ))}\n          </tr>\n        ))}\n        <tr className=\"total-score\">\n          <th className=\"move\">TOTAL</th>\n          {playerNames.map((_, i) => <td key={i}>{game.getTotalScore(i)}</td>)}\n        </tr>\n      </tbody>\n    </table>\n  );\n}\n\nexport default ScoreGrid;\n","import React from 'react';\n\nfunction CallPlayerToAction(props) {\n  const { isMobile, game, playerNames } = props;\n  \n  function callPlayerToAction() {\n    const playerName = playerNames[game.currentPlayerIndex];\n    const msgs = {\n      'mobile-ingame':    `Submit a word or end turn`,\n      'mobile-gameover':  `Submit your leftovers`,\n      'desktop-ingame':   `${playerName}, submit a word or end turn`,\n      'desktop-gameover': `${playerName}, submit your leftovers`,\n    };\n    return msgs[`${isMobile ? 'mobile' : 'desktop'}-${game.isGameOver() ? 'gameover':'ingame'}`];\n  }\n\n  return (\n    <div className=\"row justify-content-center\">\n      <span className=\"call-player-to-action\">{callPlayerToAction()}</span>\n    </div>\n  );\n}\n\nexport default CallPlayerToAction;\n","import React from 'react';\nimport ScoreGridCell from './ScoreGridCell';\nimport CallPlayerToAction from '../ScrabbleScoreKeeper/CallPlayerToAction';\nimport './ScoreGrid.css';\n\nclass ScoreGridMobile extends React.Component {\n  moveRowText(i) {\n    const { game } = this.props;\n    return game.isGameOver() && game.leftOversTurnNumber === i ? 'Leftovers Accounting' : `Move ${i + 1}`;\n  }\n\n  render() {\n    const { playerNames, game, language } = this.props;\n    const totalScores = [...Array(playerNames.length)].map((_, j) => game.getRunningTotals(j));\n    const toDisplayTotals = (turn) => {\n      if (!game.areLeftOversSubmitted()) {\n        return turn.isComplete(game);\n      }\n      return true;\n    };\n\n    const isCurrentPlayersTurn = (player, turnIndex) => player === game.getCurrentPlayer()\n                                                      && player[turnIndex].isEmpty()\n                                                      && !player[turnIndex].isPassed(game)\n                                                      && !player[turnIndex].bingo;\n    return (\n      <table className=\"table table-bordered\">\n        <thead>\n          <tr className=\"thead-rows\">\n            <th className=\"playerNames\" scope=\"col\">\nNames\n              <br />\n(Total)\n            </th>\n            <th className=\"playerTurn\" scope=\"col\">Player Turn</th>\n          </tr>\n        </thead>\n        <tbody key=\"tbody\" className=\"tbody-rows\">\n          {game.getCurrentPlayer().map((_, i) => {\n            const moveRow = (\n              <tr key={`moverow${i}`} className=\"move-row\">\n                <td colSpan=\"2\">\n                  {this.moveRowText(i)}\n                </td>\n              </tr>\n            );\n            const playerRows = game.playersTurns.map((player, j) => (\n              player[i]\n                ? (\n                  <tr key={`move${i}_player${j}`} className=\"player-move-row\">\n                    <td className=\"player-name\">\n                      {playerNames[j]}\n                      <br />\n                      {toDisplayTotals(player[i]) ? totalScores[j][i] : null}\n                    </td>\n\n                    <td className=\"player-turn\">\n                      {isCurrentPlayersTurn(player, i)\n                        ? <CallPlayerToAction game={game} playerNames={playerNames} isMobile />\n                        : <ScoreGridCell turn={player[i]} language={language} game={game} />\n                      }\n                    </td>\n                  </tr>\n                )\n                : null\n            ));\n            return [moveRow, playerRows];\n          })}\n        </tbody>\n      </table>\n    );\n  }\n}\nexport default ScoreGridMobile;\n","import React from 'react';\nimport TooltipTrigger from 'react-popper-tooltip';\nimport 'react-popper-tooltip/dist/styles.css';\nimport './Tooltip.css';\n\nconst Tooltip = ({\n  children, tooltip, hideArrow, ...props\n}) => (\n  <TooltipTrigger\n    {...props}\n    tooltip={({\n      arrowRef,\n      tooltipRef,\n      getArrowProps,\n      getTooltipProps,\n      placement,\n\n    }) => (\n      <div\n        {...getTooltipProps({\n          ref: tooltipRef,\n          className: 'tooltip-container',\n        })}\n      >\n        {!hideArrow && (\n          <div\n            {...getArrowProps({\n              ref: arrowRef,\n              className: 'tooltip-arrow',\n              'data-placement': placement,\n            })}\n          />\n        )}\n        {tooltip}\n      </div>\n    )}\n  >\n    {({ getTriggerProps, triggerRef }) => (\n      <span\n        {...getTriggerProps({\n          ref: triggerRef,\n          className: 'trigger',\n        })}\n      >\n        {children}\n      </span>\n    )}\n  </TooltipTrigger>\n);\n\nexport default Tooltip;\n","import React from 'react';\n\nclass ModifierTile extends React.Component {\n  tileText() {\n    const { modifier } = this.props;\n    switch (modifier) {\n      case 'double-letter': return 'Double letter score';\n      case 'double-word': return 'Double word score';\n      case 'triple-letter': return 'Triple letter score';\n      case 'triple-word': return 'Triple word score';\n      case 'blank': return 'Blank tile';\n      default: return null;\n    }\n  }\n\n  render() {\n    const { onClick, modifier } = this.props;\n    return (\n      <span\n        role=\"button\"\n        onClick={e => onClick(modifier, e)}\n        onKeyDown={e => onClick(modifier, e)}\n        onTouchEnd={e => onClick(modifier, e)}\n        className={`modifier ${modifier}`}\n      >\n        <span>\n          {this.tileText()}\n        </span>\n      </span>\n    );\n  }\n}\n\nexport default ModifierTile;\n","import React from 'react';\nimport Tooltip from '../Tooltip/Tooltip';\nimport ModifierTile from './ModifierTile';\nimport ReactGA from 'react-ga';\n\nclass WithModifierPopover extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleVisibilityChange = this.handleVisibilityChange.bind(this);\n    this.state = {\n      modifier: null,\n      tooltipShown: false,\n    };\n  }\n\n  handleClick(modifiertype, e) {\n    const { modifier } = this.state;\n    const { onChange } = this.props;\n    const modifierValue = (modifiertype === modifier) ? null : modifiertype;\n    this.setState({ modifier: modifierValue, tooltipShown: false });\n    onChange(modifierValue);\n    e.preventDefault();\n    e.stopPropagation();\n\n    ReactGA.event({\n      category: 'User',\n      action: 'Clicked on Modifier'\n    });\n  }\n\n  handleVisibilityChange(argument) {\n    this.setState({ tooltipShown: argument });\n  }\n\n  render() {\n    const { tooltipShown } = this.state;\n    const { children } = this.props;\n    return (\n      <Tooltip\n        onVisibilityChange={this.handleVisibilityChange}\n        tooltipShown={tooltipShown}\n        placement=\"bottom\"\n        trigger=\"click\"\n        portalContainer={document.getElementsByClassName('main')[0]}\n        tooltip={(\n          <div>\n            <ModifierTile modifier=\"double-letter\" onClick={this.handleClick} />\n            <ModifierTile modifier=\"double-word\" onClick={this.handleClick} />\n            <ModifierTile modifier=\"triple-letter\" onClick={this.handleClick} />\n            <ModifierTile modifier=\"triple-word\" onClick={this.handleClick} />\n            <ModifierTile modifier=\"blank\" onClick={this.handleClick} />\n          </div>\n        )}\n      >\n        {children}\n      </Tooltip>\n    );\n  }\n}\n\nexport default WithModifierPopover;\n","import React from 'react';\nimport { resizeArray, scrabbleScore, isLetterAllowed } from '../../logic/util';\nimport WithModifierPopover from './WithModifierPopover';\n\nimport ScrabbleTile from '../ScrabbleTile/ScrabbleTile';\nimport './ScrabbleInputBox.css';\n\nclass ScrabbleInputBox extends React.Component {\n  static _clickOnElementByClass(className) {\n    const elements = document.getElementsByClassName(className);\n    if (elements.length !== 0) elements[0].click();\n  }\n\n  constructor(props) {\n    super(props);\n    this.textHiddenInput = React.createRef();\n    this.focus = this.focus.bind(this);\n    this.handleHiddenInputChange = this.handleHiddenInputChange.bind(this);\n    this.handleTileClick = this.handleTileClick.bind(this);\n    this.state = {\n      inFocus: false,\n    };\n  }\n\n  handleHiddenInputChange(e) {\n    const { language, word, onChange } = this.props;\n    const input = e.target.value;\n    const result = input.split('').map(letter => (isLetterAllowed(letter, language) ? letter : ''));\n    const modifiers = resizeArray(word.modifiers, result.length, null);\n    onChange({ value: result.join(''), modifiers });\n    this.constructor._clickOnElementByClass('hidden-input');\n  }\n\n  handleModifierChange(letterIndex, modifier) {\n    const { word, onChange } = this.props;\n    const modifiers = word.modifiers.slice();\n    modifiers[letterIndex] = modifier;\n    onChange({ value: word.value, modifiers });\n  }\n\n  handleTileClick() {\n    this.focus();\n  }\n\n  focus() {\n    this.textHiddenInput.current.focus();\n  }\n\n  render() {\n    const { language, word } = this.props;\n    const { inFocus } = this.state;\n    return (\n      <div role=\"textbox\" onClick={this.focus} onKeyDown={this.focus} className={`scrabble-input-box${word.value.length > 8 ? ' large' : ''}`}>\n        <input\n          ref={this.textHiddenInput}\n          onChange={this.handleHiddenInputChange}\n          value={word.value}\n          className=\"hidden-input\"\n          onBlur={() => this.setState({ inFocus: false })}\n          onFocus={() => this.setState({ inFocus: true })}\n          type=\"text\"\n          maxLength=\"15\"\n          autoComplete=\"off\"\n          autoCapitalize=\"off\"\n          spellCheck=\"false\"\n          autoCorrect=\"off\"\n        />\n        <div className={inFocus ? 'scrabble-tiles blinker' : 'scrabble-tiles'}>\n          {word.value.split('').map((c, i) => (\n            <WithModifierPopover\n              onChange={modifier => this.handleModifierChange(i, modifier)}\n              key={i}\n            >\n              <ScrabbleTile\n                onClick={this.handleTileClick}\n                letter={c}\n                score={scrabbleScore(c, [null], language)}\n                modifier={word.modifiers[i]}\n              />\n            </WithModifierPopover>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default ScrabbleInputBox;\n","import React from 'react';\nimport { scrabbleScore } from '../../logic/util';\nimport ScrabbleInputBox from '../ScrabbleInputBox/ScrabbleInputBox';\n\nconst amplitude = require('amplitude-js/amplitude')\namplitude.getInstance().init('908142045794995ec39e6025a04bfdb4');\n\n\nconst emptyWord = { value: '', modifiers: [], score: 0 };\n\nclass InGameControls extends React.Component {\n  \n\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleUndo = this.handleUndo.bind(this);\n    this.handleEndTurn = this.handleEndTurn.bind(this);\n    this.handleEndGame = this.handleEndGame.bind(this);\n    this.handleAddWord = this.handleAddWord.bind(this);\n    this.handleBingo = this.handleBingo.bind(this);\n    this._scrollInputToTheMiddle = this._scrollInputToTheMiddle.bind(this);\n    this.input = React.createRef();\n    this.state = {\n      currentWord: emptyWord,\n    };\n  }\n\n  _scrollInputToTheMiddle() {\n    const { game, isMobile } = this.props;\n    const elements = document.getElementsByClassName('add-word');\n    const wordsOfFirstPlayerTurn = game.playersTurns[0][0].words;\n    if (isMobile && elements.length !== 0 && wordsOfFirstPlayerTurn.length !== 0) \n      { elements[0].scrollIntoView({ block: 'center' }) }\n  }\n\n  componentDidMount() {\n    if (this.input.current) this.input.current.focus();\n  }\n\n  onSetGame(game) {\n    const { onSetGame } = this.props;\n    onSetGame(game);\n    this.resetCurrentWord();\n  }\n\n  resetCurrentWord() {\n    this.setState({ currentWord: emptyWord });\n    if (this.input.current) this.input.current.focus();\n  }\n\n  handleChange(word) {\n    const { language } = this.props;\n    const currentWord = { ...word, score: scrabbleScore(word.value, word.modifiers, language) };\n    this.setState({ currentWord });\n  }\n\n  handleUndo() {\n    const { onUndo } = this.props;\n    onUndo();\n    this.resetCurrentWord();\n    this._scrollInputToTheMiddle();\n\n\n    amplitude.getInstance().logEvent('UNDO');\n  }\n\n  handleAddWord() {\n    const { currentWord } = this.state;\n    const { game } = this.props;\n    this.onSetGame(game.addWord(currentWord));\n    this._scrollInputToTheMiddle();\n\n    amplitude.getInstance().logEvent('ADD WORD', {'word': JSON.parse(JSON.stringify(currentWord))});\n  }\n\n  handleEndTurn(e) {\n    const { currentWord } = this.state;\n    let { game } = this.props;\n    e.preventDefault(); /* prevent form submission */\n    game = currentWord.value.length !== 0 ? game.addWord(currentWord) : game;\n    this.onSetGame(game.endTurn());\n    this._scrollInputToTheMiddle();\n\n    const eventValue = currentWord.value.length !== 0\n                        ? ['END TURN', {'word': JSON.parse(JSON.stringify(currentWord))}]\n                        : ['END TURN'];\n    amplitude.getInstance().logEvent(...eventValue);\n  }\n\n  handleBingo() {\n    const { game, onSetGame } = this.props;\n    onSetGame(game.setBingo(!game.getCurrentTurn().bingo));\n    this._scrollInputToTheMiddle();\n\n    amplitude.getInstance().logEvent('BINGO');\n  }\n\n  handleEndGame() {\n    const { game, onSetGame } = this.props;\n    onSetGame(game.endGame());\n    this._scrollInputToTheMiddle();\n\n    amplitude.getInstance().logEvent('END GAME', {'NumOfTurns': game.playersTurns.length});\n  }\n\n  render() {\n    const { currentWord } = this.state;\n    const { game, language, undoDisabled } = this.props;\n    const endTurnButtonText = game.getCurrentTurn().isEmpty() && currentWord.value === '' ? 'PASS' : 'END TURN';\n    const isEndGameButtonDisabled = game.currentPlayerIndex !== 0 || currentWord.value !== '' || game.getCurrentTurn().score > 0 || game.playersTurns[game.getCurrentPlayerIndex()].length === 1;\n\n    const props = {\n      ref: this.input,\n      onChange: this.handleChange,\n      word: currentWord,\n      language,\n    };\n\n    return (\n      <form>\n        <ScrabbleInputBox {...props} />\n        <div className=\"buttons\">\n          <div className=\"in-game-controls\">\n            <div className=\"add-word-and-bingo-btns-container\">\n              <button onClick={this.handleAddWord} type=\"button\" className=\"btn word-submit-button add-word\" disabled={currentWord.value === ''}>+ ADD A WORD</button>\n              <input onChange={this.handleBingo} type=\"checkbox\" id=\"bingoToggle\" checked={game.getCurrentTurn().bingo} />\n              <label className=\"btn bingo\" htmlFor=\"bingoToggle\">\n                <div className=\"bingo-toggle\">BINGO</div>\n              </label>\n            </div>\n            <div className=\"submit-btn-container\">\n              <button onClick={this.handleEndTurn} type=\"submit\" className=\"btn pass-endturn-button\">{endTurnButtonText}</button>\n            </div>\n            <div className=\"undo-and-end-game-btns-container\">\n              <button onClick={this.handleUndo} type=\"button\" className=\"btn word-submit-button undo\" disabled={undoDisabled}>UNDO</button>\n              <button onClick={this.handleEndGame} type=\"button\" className=\"btn end-game\" disabled={isEndGameButtonDisabled}>END GAME</button>\n            </div>\n          </div>\n        </div>\n        <h3>How to use Scrabble Score Online:</h3>\n        <ul>\n          <li>\nTo add Premium Square scores to your word, click on a tile that you typed in an input box.\n          Choose desired option.\n          </li>\n          <li>Click ADD WORD to add word to your turn.</li>\n          <li>Click END TURN, to finish your turn.</li>\n          <li>Click BINGO if you played seven tiles on a turn.</li>\n          <li>If you made a mistake, use unlimited UNDO.</li>\n          <li>Click END GAME when you finished your game.</li>\n        </ul>\n      </form>\n    );\n  }\n}\nexport default InGameControls;\n","import React from 'react';\nimport { scrabbleScore } from '../../logic/util';\nimport ScrabbleInputBox from '../ScrabbleInputBox/ScrabbleInputBox';\nimport ReactGA from 'react-ga';\n\nconst emptyWord = { value: '', modifiers: [], score: 0 };\n\nclass InGameOverControls extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleUndo = this.handleUndo.bind(this);\n    this.handleLeftOvers = this.handleLeftOvers.bind(this);\n    this.input = React.createRef();\n    this.state = {\n      currentWord: emptyWord,\n    };\n  }\n\n  componentDidMount() {\n    if (this.input.current) this.input.current.focus();\n  }\n\n  resetCurrentWord() {\n    this.setState({ currentWord: emptyWord });\n    if (this.input.current) this.input.current.focus();\n  }\n\n  handleUndo() {\n    const { onUndo } = this.props;\n    onUndo();\n    this.resetCurrentWord();\n         ReactGA.event({\n      category: 'User',\n      action: 'Clicked Undo InGameOverControls'\n    });\n  }\n\n  handleChange(word) {\n    const { language } = this.props;\n    const currentWord = { ...word, score: -scrabbleScore(word.value, word.modifiers, language) };\n    this.setState({ currentWord });\n  }\n\n  handleLeftOvers(e) {\n    const { currentWord } = this.state;\n    const { onSetGame } = this.props;\n    let { game } = this.props;\n\n    e.preventDefault(); /* prevent form submission */\n\n    if (currentWord.value.length !== 0) game = game.addWord(currentWord);\n    game = game.endTurn();\n\n    if (game.currentPlayerIndex === 0) {\n      game = game.distributeLeftOversToReapers(game.getReapers(), game.getSumOfLeftovers());\n    }\n\n    onSetGame(game);\n    this.resetCurrentWord();\n\n     ReactGA.event({\n      category: 'User',\n      action: 'Clicked Submit LeftOvers'\n    });\n  }\n\n  render() {\n    const { currentWord } = this.state;\n    const { game, language, undoDisabled } = this.props;\n    const submitButtonText = currentWord.value.length > 0 ? 'SUBMIT LEFTOVERS' : 'SUBMIT NO LEFTOVERS';\n    return (\n      <div>\n        {!game.areLeftOversSubmitted()\n          ? (\n            <form autoComplete=\"off\">\n              <ScrabbleInputBox\n                ref={this.input}\n                onChange={this.handleChange}\n                word={currentWord}\n                language={language}\n              />\n              <div className=\"buttons\">\n                <div className=\"in-game-controls\">\n                  <div className=\"undo-and-end-game-btns-container\">\n                    <button onClick={this.handleLeftOvers} type=\"submit\" className=\"btn pass-endturn-button\">{submitButtonText}</button>\n                  </div>\n                  <div className=\"submit-btn-container\">\n                    <button onClick={this.handleUndo} type=\"button\" className=\"btn word-submit-button undo\" disabled={undoDisabled}>UNDO</button>\n                  </div>\n                </div>\n              </div>\n            </form>\n          )\n          : (\n            <div className=\"buttons\">\n              <div className=\"in-game-controls\">\n                <div className=\"undo-and-end-game-btns-container\">\n                  <button onClick={this.handleUndo} type=\"button\" className=\"btn word-submit-button undo\" disabled={undoDisabled}>UNDO</button>\n                </div>\n              </div>\n            </div>\n          )\n        }\n        <h3>How to use Scrabble Score Online:</h3>\n        <ul>\n          <li>\n              Unplayed Letters: When the game ends, each player&apos;s score is reduced by the sum\n              of his or her unplayed letters. In addition, if a player has used all of his\n              or her letters, the sum of the other players&apos; unplayed letters is added to\n              that player&apos;s score.\n          </li>\n          <li>\n            Click SUBMIT NO LEFTOVERS if you finished your game without any tiles on your rack.\n          </li>\n          <li>\n            Click SUBMIT LEFTOVERS to submit tiles that are left on your rack when you&#32;\n            finished the game.\n          </li>\n          <li>If you made a mistake, use unlimited UNDO.</li>\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default InGameOverControls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Game from '../../logic/game';\nimport ScoreGrid from '../ScoreGrid/ScoreGrid';\nimport ScoreGridMobile from '../ScoreGrid/ScoreGridMobile';\nimport CallPlayerToAction from './CallPlayerToAction';\nimport InGameControls from './InGameControls';\nimport InGameOverControls from './InGameOverControls';\n\nclass ScoreKeeper extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleUndo = this.handleUndo.bind(this);\n    this.handleSetGame = this.handleSetGame.bind(this);\n    this.renderWinner = this.renderWinner.bind(this);\n    this.beforeUnload = this.beforeUnload.bind(this);\n    const { playerNames } = this.props;\n    this.state = {\n      game: Game.createNewGame(playerNames.length),\n      games: [],\n    };\n  }\n \n  componentDidMount() {\n    window.addEventListener('beforeunload', this.beforeUnload);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('beforeunload', this.beforeUnload);  \n  }\n\n  beforeUnload(e) {\n    const { games, game } = this.state;\n    if (process.env.NODE_ENV !== 'development' && games.length !== 0 && !game.isGameOver()) {\n      e.preventDefault();\n      e.returnValue = '';\n    }\n  }\n\n  handleSetGame(currentGame) {\n    const { game } = this.state;\n    let { games } = this.state;\n    games = [...games.slice(), game];\n    this.setState({ games, game: currentGame });\n  }\n\n  handleUndo() {\n    const { games } = this.state;\n    const previousGames = games.slice(0, -1);\n    const game = games[games.length - 1];\n    this.setState({ game, games: previousGames });\n\n  }\n\n  renderWinner() {\n    const { game } = this.state;\n    const { playerNames } = this.props;\n    const turnBeforeLeftOvers = game.leftOversTurnNumber - 1;\n    const winners = game.getWinners();\n    const winnersTie = game.getWinners(turnBeforeLeftOvers);\n    if (winners.length > 1) {\n      return winnersTie.map(winnerIndex => (winnersTie.length > 1\n        ? `${playerNames[winnerIndex]}: ${game.getTotalScore(winnerIndex, turnBeforeLeftOvers)} points`\n        : `${playerNames[winnerIndex]} won with ${game.getTotalScore(winnerIndex, turnBeforeLeftOvers)} points!`)).join(', ');\n    }\n    return `${playerNames[[...game.getWinners()]]} won with ${game.getTotalScore([...game.getWinners()])} points!`;\n  }\n\n  render() {\n    const { game, games } = this.state;\n    const { playerNames, language, isMobile } = this.props;\n\n    const controlProps = {\n      onSetGame: this.handleSetGame,\n      onUndo: this.handleUndo,\n      undoDisabled: games.length === 0,\n      isMobile,\n      game,\n      language,\n    };\n\n    const toDisplayCallPlayerToAction = () => {\n      if (!isMobile) {\n        return  <CallPlayerToAction game={game} playerNames={playerNames} isMobile={isMobile}/>\n      }\n    };\n\n    return (\n      <div className=\"score-keeper\">\n        <div className=\"container\">\n          <img id=\"logo\" src=\"logo.png\" alt=\"Scrabble score logo\" width=\"212px\" />\n          <h1 className=\"title\">Scrabble Score Sheet</h1>\n          {isMobile\n            ? <ScoreGridMobile playerNames={playerNames} game={game} language={language} />\n            : <ScoreGrid playerNames={playerNames} game={game} language={language} />\n          }\n          {!game.areLeftOversSubmitted()\n            ? toDisplayCallPlayerToAction()\n            : (\n              <div className=\"winner\">\n                <h1>{this.renderWinner()}</h1>\n              </div>\n            )\n              }\n          {!game.isGameOver()\n            ? <InGameControls {...controlProps} />\n            : <InGameOverControls {...controlProps} />\n              }\n        </div>\n      </div>\n    );\n  }\n}\n\nScoreKeeper.propTypes = {\n  playerNames: PropTypes.arrayOf(PropTypes.string),\n  language: PropTypes.string,\n};\n\nScoreKeeper.defaultProps = {\n  playerNames: ['Player 1', 'Player 2'],\n  language: 'en',\n};\n\nexport default ScoreKeeper;\n","import ReactGA from 'react-ga';\nimport React from 'react';\nimport GameSettings from '../GameSettings/GameSettings';\nimport ScoreKeeper from './ScoreKeeper';\nimport './ScrabbleScoreKeeper.css';\n\nclass ScrabbleScoreKeeper extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleGameStart = this.handleGameStart.bind(this);\n    this.handleWindowSizeChange = this.handleWindowSizeChange.bind(this);\n    this.handlePopState = this.handlePopState.bind(this);\n    this.state = {\n      playerNames: [],\n      language: '',\n      width: 10,\n    };\n  }\n\n  componentDidMount() {\n    const { playerNames } = this.state;\n    window.history.pushState({ playerNames: playerNames }, null) /*Pushing to browser's history*/\n    window.addEventListener('popstate', this.handlePopState); /*Listening to brower's back/front button click*/\n\n    ReactGA.initialize('UA-144533310-1');\n    ReactGA.pageview(window.location.pathname + window.location.search);\n    this.handleWindowSizeChange();\n  }\n\n  componentWillMount() {\n    window.addEventListener('resize', this.handleWindowSizeChange);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleWindowSizeChange);\n    window.removeEventListener('popstate', this.handlePopState);\n  }\n\n  handlePopState(event) {\n   const stateObj = event.state;\n   this.setState({playerNames:stateObj.playerNames})\n  }\n\n  handleWindowSizeChange() {\n    this.setState({ width: window.innerWidth });\n  }\n\n  handleGameStart(playerNames, language) {\n    window.history.pushState({ playerNames: playerNames }, null) /*Pushing to browser's history*/\n    this.setState({ playerNames, language });\n  }\n\n  renderGame(isMobile) {\n    const { playerNames, language } = this.state;\n    return playerNames.length === 0\n      ? <GameSettings onGameStart={this.handleGameStart}/>\n      : <ScoreKeeper playerNames={playerNames} language={language} isMobile={isMobile} />;\n  }\n\n  render() {\n    const { width } = this.state;\n    const isMobile = width <= 815;\n    return (\n      <div className={`main ${isMobile ? 'mobile' : 'desktop'}`}>\n        {this.renderGame(isMobile)}\n      </div>\n    );\n  }\n}\n\nexport default ScrabbleScoreKeeper;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won\"t work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let\"s check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It\"s the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can\"t reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","\nimport React from 'react';\nimport { hydrate, render } from \"react-dom\";\nimport './index.css';\nimport ScrabbleScoreKeeper from './components/ScrabbleScoreKeeper/ScrabbleScoreKeeper';\nimport * as serviceWorker from './serviceWorker';\n\n\nconst rootElement = document.getElementsByClassName('content')[0];\nif (rootElement.hasChildNodes()) {\n  hydrate(<ScrabbleScoreKeeper/>, rootElement);\n} else {\n  render(<ScrabbleScoreKeeper/>, rootElement);\n}\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}